import streamlit as st
import pandas as pd

st.set_page_config(page_title="ุชูุตูุงุช ุงูููุฑูุณ ุจุงุณุชุฎุฏุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู", layout="centered")

st.title("๐ ุชูุตูุงุช ุงูููุฑูุณ ุจุงุณุชุฎุฏุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู")

# ุฑูุน ููู CSV
uploaded_file = st.file_uploader("๐ ูู ุจุชุญููู ููู ุงูุจูุงูุงุช (CSV)", type=["csv"])

if uploaded_file is not None:
    try:
        data = pd.read_csv(uploaded_file)

        # ุงูุชุญูู ูู ูุฌูุฏ ุงูุนููุฏ "Close"
        if 'Close' not in data.columns:
            st.error("โ ุงูููู ูุง ูุญุชูู ุนูู ุนููุฏ 'Close'. ุงูุฑุฌุงุก ุงูุชุฃูุฏ ูู ุฃู ุงูููู ูุญุชูู ุนูู ูุฐุง ุงูุนููุฏ.")
        else:
            # ุนุฑุถ ุงูุจูุงูุงุช
            st.success("โ ุชู ุชุญููู ุงูููู ุจูุฌุงุญ!")
            st.subheader("ุนุฑุถ ุฃูู 5 ุตููู ูู ุงูุจูุงูุงุช:")
            st.dataframe(data.head())

            # ูุซุงู ุนูู ุชุญููู ุจุณูุท: ุญุณุงุจ ุงููุชูุณุท ุงููุชุญุฑู
            data['SMA_5'] = data['Close'].rolling(window=5).mean()
            st.subheader("๐ ุงููุชูุณุท ุงููุชุญุฑู ูู 5 ุฃูุงู:")
            st.line_chart(data[['Close', 'SMA_5']])

            # ููููู ููุง ุฅุถุงูุฉ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุงุญููุง...

    except Exception as e:
        st.error(f"๐จ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ูุนุงูุฌุฉ ุงูููู:\n{e}")
else:
    st.info("โฌ๏ธ ุงูุฑุฌุงุก ุชุญููู ููู CSV ูุญุชูู ุนูู ุนููุฏ 'Close' ูุจุฏุก ุงูุชุญููู.")
